<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Get_CasesItem</name>
        <label>Get CasesItem</label>
        <locationX>1279</locationX>
        <locationY>1167</locationY>
        <actionName>IV_FlowINClauseActionClass</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_MainOeuvre_Product</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>U__records</typeName>
            <typeValue>CaseItem__c</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>filteringValuesCollection</name>
            <value>
                <elementReference>CaseIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>objectApiName</name>
            <value>
                <stringValue>caseItem__c</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldsToQuery</name>
            <value>
                <stringValue>Name, case__c, productOption__c, quantity__c, isOutOfWarranty__c</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>filterField</name>
            <value>
                <stringValue>case__c</stringValue>
            </value>
        </inputParameters>
        <outputParameters>
            <assignToReference>CaseItemList</assignToReference>
            <name>records</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Get_PriceBookEntryList</name>
        <label>Get PriceBookEntryList</label>
        <locationX>1425</locationX>
        <locationY>1443</locationY>
        <actionName>IV_FlowINClauseActionClass</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>FE_CaseItem</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>U__records</typeName>
            <typeValue>PricebookEntry</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>filteringValuesCollection</name>
            <value>
                <elementReference>productIdList</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>objectApiName</name>
            <value>
                <stringValue>pricebookentry</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldsToQuery</name>
            <value>
                <stringValue>Id,Product2Id,Pricebook2Id</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>filterField</name>
            <value>
                <stringValue>Product2Id</stringValue>
            </value>
        </inputParameters>
        <outputParameters>
            <assignToReference>pbeList</assignToReference>
            <name>records</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Open_Quote</name>
        <label>Open Quote</label>
        <locationX>2642</locationX>
        <locationY>2046</locationY>
        <actionName>c:OpenDetailsRecord</actionName>
        <actionType>component</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>Create_SAVQuote</elementReference>
            </value>
        </inputParameters>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>57.0</apiVersion>
    <assignments>
        <name>Add_ForfaitDep_to_ChildQuoteLineList</name>
        <label>Add ForfaitDep to ChildQuoteLineList</label>
        <locationX>2479</locationX>
        <locationY>1748</locationY>
        <assignmentItems>
            <assignToReference>ChildQuoteLineList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>NewQLIForfaitDeplacement</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Child_QuoteLines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_CaseIds</name>
        <label>Add to CaseIds</label>
        <locationX>2274</locationX>
        <locationY>962</locationY>
        <assignmentItems>
            <assignToReference>CaseIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_SelectedCases.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_SelectedCases</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_CasesToUpdate</name>
        <label>Add to CasesToUpdate</label>
        <locationX>1491</locationX>
        <locationY>1173</locationY>
        <assignmentItems>
            <assignToReference>CasesToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_SelectedCases1</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_SelectedCases1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_ChildQuoteLineList</name>
        <label>Add to ChildQuoteLineList</label>
        <locationX>2670</locationX>
        <locationY>1361</locationY>
        <assignmentItems>
            <assignToReference>ChildQuoteLineList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>NewChildQuoteLine</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_ParentQuoteLineList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_ParentQuoteLineList</name>
        <label>Add to ParentQuoteLineList</label>
        <locationX>1866</locationX>
        <locationY>1590</locationY>
        <assignmentItems>
            <assignToReference>ParentQuoteLineList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>NewQuoteLine</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NbParentLine</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Warranty</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CaseItem_ProductID</name>
        <label>Assign CaseItem ProductID</label>
        <locationX>1283</locationX>
        <locationY>1326</locationY>
        <assignmentItems>
            <assignToReference>productIdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CaseItemProductId.productOption__r.SBQQ__ConfiguredSKU__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>productIdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CaseItemProductId.productOption__r.SBQQ__OptionalSKU__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseItemProductId</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CaseNumber</name>
        <label>Assign CaseNumber</label>
        <locationX>732</locationX>
        <locationY>334</locationY>
        <assignmentItems>
            <assignToReference>CaseNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CasesList.CaseNumber</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>errorScreen_InvalidCase</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CasesList_Chantier</name>
        <label>Assign CasesList</label>
        <locationX>823</locationX>
        <locationY>452</locationY>
        <assignmentItems>
            <assignToReference>CasesList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CaseChantier</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseChantier</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CasesList_DossierSAV</name>
        <label>Assign CasesList</label>
        <locationX>765</locationX>
        <locationY>977</locationY>
        <assignmentItems>
            <assignToReference>CasesList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CaseDossierSAV</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getDossierSAV.workSite__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseDossierSAV</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CasesList_Order</name>
        <label>Assign CasesList</label>
        <locationX>962</locationX>
        <locationY>765</locationY>
        <assignmentItems>
            <assignToReference>CasesList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CaseOrder</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getOrder.chantier__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseOrder</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_CaseWitoutItemList</name>
        <label>Assign CaseWitoutItemList</label>
        <locationX>1329</locationX>
        <locationY>159</locationY>
        <assignmentItems>
            <assignToReference>CaseWithoutItemNumberList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CasesList.CaseNumber</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CasesList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PBE_Id</name>
        <label>Assign PBE Id</label>
        <locationX>1965</locationX>
        <locationY>1589</locationY>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_PBE.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PBE_Id_ForfaitDep</name>
        <label>Assign PBE Id ForfaitDep</label>
        <locationX>2266</locationX>
        <locationY>1875</locationY>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_PBE2.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PBE_Id_MainOeuvre</name>
        <label>Assign PBE Id MainOeuvre</label>
        <locationX>2950</locationX>
        <locationY>1267</locationY>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__PricebookEntryId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_PBE1.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_PreselectedCasesList</name>
        <label>Assign PreselectedCasesList</label>
        <locationX>1413</locationX>
        <locationY>124</locationY>
        <assignmentItems>
            <assignToReference>PreselectedCasesList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_CasesList</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CasesList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Quote_Case_Status</name>
        <label>Assign Quote &amp; Case Status</label>
        <locationX>1632</locationX>
        <locationY>1173</locationY>
        <assignmentItems>
            <assignToReference>FE_SelectedCases1.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>En cours</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>FE_SelectedCases1.afterSalesServiceQuote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_SAVQuote</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_CasesToUpdate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Service_ProductId</name>
        <label>Assign Service ProductId</label>
        <locationX>1131</locationX>
        <locationY>1475</locationY>
        <assignmentItems>
            <assignToReference>productIdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_MainOeuvre_Product.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>productIdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_ForfaitDep_Product.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseItemProductId</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignCaseListFromCase</name>
        <label>Assign CasesList</label>
        <locationX>1219</locationX>
        <locationY>1038</locationY>
        <assignmentItems>
            <assignToReference>CasesList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>getCase</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>getCase.Chantier__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CasesList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignCaseToSelect</name>
        <label>assignCaseToSelect</label>
        <locationX>1837</locationX>
        <locationY>455</locationY>
        <assignmentItems>
            <assignToReference>CasesListToSelect</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>forEachCase</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>forEachCase</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignRecordIdToSelectedCase</name>
        <label>assignRecordIdToSelectedCase</label>
        <locationX>1900</locationX>
        <locationY>767</locationY>
        <assignmentItems>
            <assignToReference>CasesSelected</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>getCase</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_SelectedCases</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_ForfaitDep_QuoteLine</name>
        <label>Create ForfaitDep QuoteLine</label>
        <locationX>2266</locationX>
        <locationY>1553</locationY>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_SAVQuote</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ForfaitDep_Product.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.productType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Service</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.productOutOfWarranty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ForfaitDepWarranty</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQLIForfaitDeplacement.IndexParent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>NbParentLine</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_MainOeuvre_QuoteLine</name>
        <label>Create MainOeuvre QuoteLine</label>
        <locationX>2708</locationX>
        <locationY>1057</locationY>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_SAVQuote</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__RequiredBy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.SBQQ__Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_MainOeuvre_Product.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.productType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.productType__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.parentQuoteLine__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.SBQQ__ProductOption__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.SBQQ__ProductOption__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewChildQuoteLine.productOutOfWarranty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_ParentQuoteLineList.productOutOfWarranty__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_Parent_Quoteline</name>
        <label>Create Parent Quoteline</label>
        <locationX>1727</locationX>
        <locationY>1316</locationY>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__Quote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_SAVQuote</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CaseItem.productOption__r.SBQQ__OptionalSKU__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__ProductOption__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CaseItem.productOption__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.caseItem__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CaseItem.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CaseItem.quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.productType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Service</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.SBQQ__Bundle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.productOutOfWarranty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_CaseItem.isOutOfWarranty__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.IndexParent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>NbParentLine</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewQuoteLine.PrixUnitaireHTManuel__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>FE_PBE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_ForfaitDep_Warranty</name>
        <label>Define ForfaitDep Warranty</label>
        <locationX>1589</locationX>
        <locationY>1637</locationY>
        <assignmentItems>
            <assignToReference>ForfaitDepWarranty</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_CaseItem</targetReference>
        </connector>
    </assignments>
    <constants>
        <description>Référence du Mode de financement par défaut sur les devis CPQ</description>
        <name>DefaultFinancingMethodReference</name>
        <dataType>String</dataType>
        <value>
            <stringValue>FIN-0000</stringValue>
        </value>
    </constants>
    <decisions>
        <name>AlreadyFromCase</name>
        <label>AlreadyFromCase</label>
        <locationX>1924</locationX>
        <locationY>504</locationY>
        <defaultConnector>
            <targetReference>Check_CasesListToSelect</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>isAlreadyFromCase</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>500</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assignRecordIdToSelectedCase</targetReference>
            </connector>
            <label>isAlreadyFromCase</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Case_Item</name>
        <label>Check Case Item</label>
        <locationX>1153</locationX>
        <locationY>313</locationY>
        <defaultConnector>
            <targetReference>Assign_PreselectedCasesList</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Case_without_item</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FE_CasesList.caseItemCount__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_CaseWitoutItemList</targetReference>
            </connector>
            <label>Case without item</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_CasesListToSelect</name>
        <label>Check CasesListToSelect</label>
        <locationX>2035</locationX>
        <locationY>447</locationY>
        <defaultConnector>
            <targetReference>Pas_de_NCP</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Has_CasesListToSelect</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CasesListToSelect</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>screenSelectCase</targetReference>
            </connector>
            <label>Has CasesListToSelect</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_CaseStatus</name>
        <label>Check CaseStatus</label>
        <locationX>1155</locationX>
        <locationY>479</locationY>
        <defaultConnector>
            <targetReference>FE_CasesList</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>IsNotFinished</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FE_CasesList.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Clôturé</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_CaseValidity</targetReference>
            </connector>
            <label>IsNotFinished</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_CaseValidity</name>
        <label>Check CaseValidity</label>
        <locationX>1020</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Assign_CaseNumber</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Case_isValid</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FE_CasesList.motif__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>FE_CasesList.responsability__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>FE_CasesList.detectedWarranty__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>FE_CasesList.requiredOrder__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Case_Item</targetReference>
            </connector>
            <label>Case isValid</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_CaseWithoutItemList</name>
        <label>Check CaseWithoutItemList</label>
        <locationX>1627</locationX>
        <locationY>273</locationY>
        <defaultConnector>
            <targetReference>ErrorScreen_CaseWitoutItem</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>CaseWitoutItemList_is_Empty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseWithoutItemNumberList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ErrorScreen_DiagCase</targetReference>
            </connector>
            <label>CaseWitoutItemList is Empty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_preselectedCaseList</name>
        <label>Check preselectedCaseList</label>
        <locationX>1479</locationX>
        <locationY>424</locationY>
        <defaultConnector>
            <targetReference>Check_CaseWithoutItemList</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Not_Empty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PreselectedCasesList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getChantier</targetReference>
            </connector>
            <label>Not Empty</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si une ligne est sous garantie alors le devis est sous garantie pour le forfait de déplacement</description>
        <name>Check_Warranty</name>
        <label>Check Warranty</label>
        <locationX>1714</locationX>
        <locationY>1649</locationY>
        <defaultConnector>
            <targetReference>FE_CaseItem</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>LineIsWarranty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NewQuoteLine.productOutOfWarranty__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ForfaitDepWarranty</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Define_ForfaitDep_Warranty</targetReference>
            </connector>
            <label>LineIsWarranty</label>
        </rules>
    </decisions>
    <decisions>
        <name>if_pbe_product_match</name>
        <label>if pbe.product match</label>
        <locationX>2949</locationX>
        <locationY>1106</locationY>
        <defaultConnector>
            <targetReference>FE_PBE1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>product_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FE_PBE1.Product2Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>NewChildQuoteLine.SBQQ__Product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PBE_Id_MainOeuvre</targetReference>
            </connector>
            <label>product match</label>
        </rules>
    </decisions>
    <decisions>
        <name>if_pbe_product_match_0</name>
        <label>if pbe.product match</label>
        <locationX>2074</locationX>
        <locationY>1808</locationY>
        <defaultConnector>
            <targetReference>FE_PBE2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>product_match_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NewQLIForfaitDeplacement.SBQQ__Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>FE_PBE2.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PBE_Id_ForfaitDep</targetReference>
            </connector>
            <label>product match</label>
        </rules>
    </decisions>
    <decisions>
        <name>if_pbe_product_match_0_0</name>
        <label>if pbe.product match</label>
        <locationX>2099</locationX>
        <locationY>1485</locationY>
        <defaultConnector>
            <targetReference>FE_PBE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>product_match_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NewQuoteLine.SBQQ__Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>FE_PBE.Product2Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PBE_Id</targetReference>
            </connector>
            <label>product match</label>
        </rules>
    </decisions>
    <decisions>
        <name>isDevisSAV</name>
        <label>isDevisSAV</label>
        <locationX>1651</locationX>
        <locationY>395</locationY>
        <defaultConnector>
            <targetReference>forEachCase</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>isDevisSAVOK</name>
            <conditionLogic>1 OR (2 AND (3 OR 4))</conditionLogic>
            <conditions>
                <leftValueReference>forEachCase.afterSalesServiceQuote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>forEachCase.afterSalesServiceQuote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>forEachCase.afterSalesServiceQuote__r.SBQQ__Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Résilié</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>forEachCase.afterSalesServiceQuote__r.SBQQ__Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Expiré</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assignCaseToSelect</targetReference>
            </connector>
            <label>isDevisSAVOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>whichObject</name>
        <label>whichObject</label>
        <locationX>331</locationX>
        <locationY>723</locationY>
        <defaultConnector>
            <targetReference>getCaseDossierSAV</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>isDossierSAV</defaultConnectorLabel>
        <rules>
            <name>isChantier</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>a08</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCaseChantier</targetReference>
            </connector>
            <label>isChantier</label>
        </rules>
        <rules>
            <name>isCustomerOrder</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>801</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCaseOrder</targetReference>
            </connector>
            <label>isCustomerOrder</label>
        </rules>
        <rules>
            <name>isCase</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>500</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getCase</targetReference>
            </connector>
            <label>isCase</label>
        </rules>
    </decisions>
    <description>Devis CPQ - Processus pour générer un devis CPQ SAV.
Disponible depuis un dossier SAV / NCP Interne / Commande client / Chantier</description>
    <formulas>
        <name>breakLine</name>
        <dataType>String</dataType>
        <expression>BR()</expression>
    </formulas>
    <formulas>
        <name>NomDevisFormula</name>
        <dataType>String</dataType>
        <expression>&quot;SAV_ &quot; + 
TEXT(YEAR(TODAY())) + 
IF(MONTH(TODAY()) &lt; 10, &quot;0&quot;+TEXT(MONTH(TODAY())), TEXT(MONTH(TODAY()))) + &quot; _ &quot; + 
{!getAccount.Name} + &quot; _ &quot; + 
{!getChantier.ville__c}</expression>
    </formulas>
    <formulas>
        <description>SAV _ {YYYY] {MMM} _ {compte} _ {ville} _ {type relation chantier}
où {MMM} correspond aux 3 premières lettres du mois en majuscules (ou 4 pour JUIN et JUILLET)</description>
        <name>NomProjetFormula</name>
        <dataType>String</dataType>
        <expression>&quot;SAV _ &quot; + 
TEXT(YEAR(TODAY())) + &quot; &quot; +
CASE(MONTH(TODAY()), 1, &quot;JAN&quot;,
2, &quot;FEV&quot;, 3, &quot;MAR&quot;, 4, &quot;AVR&quot;,  5, &quot;MAI&quot;, 
6, &quot;JUIN&quot;, 7, &quot;JUIL&quot;, 8, &quot;AOU&quot;, 9, &quot;SEP&quot;, 10, &quot;OCT&quot;,
11, &quot;NOV&quot;, 12, &quot;DEV&quot;, &quot;N/A&quot;) + &quot; _ &quot; + 
{!getAccount.Name} + &quot; _ &quot; + 
{!getAccount.ville__c} + &quot; _ &quot; + 
&quot;Propriétaire&quot;</expression>
    </formulas>
    <formulas>
        <name>ProductTypeFormula</name>
        <dataType>String</dataType>
        <expression>IF(
TEXT({!FE_CaseItem.productOption__r.SBQQ__Type__c})==&apos;Related Product&apos;,
&apos;Accessory&apos;,
TEXT({!FE_CaseItem.productOption__r.SBQQ__Type__c}))</expression>
    </formulas>
    <interviewLabel>Devis - Génération Devis SAV {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Devis - Génération Devis SAV</label>
    <loops>
        <name>FE_CaseChantier</name>
        <label>For Each CaseChantier</label>
        <locationX>824</locationX>
        <locationY>612</locationY>
        <collectionReference>getCaseChantier</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_CasesList_Chantier</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>FE_CasesList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_CaseDossierSAV</name>
        <label>For Each CaseDossierSAV</label>
        <locationX>810</locationX>
        <locationY>838</locationY>
        <collectionReference>getCaseDossierSAV</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_CasesList_DossierSAV</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>FE_CasesList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_CaseItem</name>
        <label>For Each CaseItem</label>
        <locationX>1596</locationX>
        <locationY>1443</locationY>
        <collectionReference>CaseItemList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Create_Parent_Quoteline</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Parent_QuoteLines</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_CaseItemProductId</name>
        <label>For Each CaseItem ProductId</label>
        <locationX>1278</locationX>
        <locationY>1475</locationY>
        <collectionReference>CaseItemList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_CaseItem_ProductID</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_PriceBookEntryList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_CaseOrder</name>
        <label>For Each CaseOrder</label>
        <locationX>823</locationX>
        <locationY>723</locationY>
        <collectionReference>getCaseOrder</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_CasesList_Order</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>FE_CasesList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_CasesList</name>
        <label>For each CasesList</label>
        <locationX>1263</locationX>
        <locationY>588</locationY>
        <collectionReference>CasesList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_CaseStatus</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_preselectedCaseList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_ParentQuoteLineList</name>
        <label>For Each ParentQuoteLineList</label>
        <locationX>2577</locationX>
        <locationY>1203</locationY>
        <collectionReference>ParentQuoteLineList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Create_MainOeuvre_QuoteLine</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_ForfaitDep_QuoteLine</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_PBE</name>
        <label>For Each PBE</label>
        <locationX>1966</locationX>
        <locationY>1398</locationY>
        <collectionReference>pbeList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>if_pbe_product_match_0_0</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Add_to_ParentQuoteLineList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_PBE1</name>
        <label>For Each PBE</label>
        <locationX>2755</locationX>
        <locationY>1202</locationY>
        <collectionReference>pbeList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>if_pbe_product_match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Add_to_ChildQuoteLineList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_PBE2</name>
        <label>For Each PBE</label>
        <locationX>2266</locationX>
        <locationY>1723</locationY>
        <collectionReference>pbeList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>if_pbe_product_match_0</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Add_ForfaitDep_to_ChildQuoteLineList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_SelectedCases</name>
        <label>For Each SelectedCases</label>
        <locationX>2053</locationX>
        <locationY>949</locationY>
        <collectionReference>CasesSelected</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_to_CaseIds</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_financingMethodRT</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_SelectedCases1</name>
        <label>For Each SelectedCases</label>
        <locationX>1563</locationX>
        <locationY>1077</locationY>
        <collectionReference>CasesSelected</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Quote_Case_Status</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_CasesItem</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>forEachCase</name>
        <label>forEachCase</label>
        <locationX>1658</locationX>
        <locationY>588</locationY>
        <collectionReference>PreselectedCasesList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>isDevisSAV</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>AlreadyFromCase</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Child_QuoteLines</name>
        <label>Create Child QuoteLines</label>
        <locationX>2482</locationX>
        <locationY>1901</locationY>
        <connector>
            <targetReference>updateCaseSelected</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputReference>ChildQuoteLineList</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Parent_QuoteLines</name>
        <label>Create Parent QuoteLines</label>
        <locationX>2131</locationX>
        <locationY>1204</locationY>
        <connector>
            <targetReference>FE_ParentQuoteLineList</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputReference>ParentQuoteLineList</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_SAVQuote</name>
        <label>Create SAVQuote</label>
        <locationX>1837</locationX>
        <locationY>1077</locationY>
        <connector>
            <targetReference>FE_SelectedCases1</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>getRTQuoteSAV.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Account__c</field>
            <value>
                <elementReference>getChantier.proprietaire__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Opportunity2__c</field>
            <value>
                <elementReference>createOpportunity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Primary__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Type__c</field>
            <value>
                <stringValue>SAV</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>afterSalesService__c</field>
            <value>
                <elementReference>getDossierSAV.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>calculationNeeded__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>chantier__c</field>
            <value>
                <elementReference>chantierId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>dateDevis__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>financingMethod__c</field>
            <value>
                <elementReference>get_financingMethodReferential.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>nomDevis__c</field>
            <value>
                <elementReference>NomDevisFormula</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>referenceDate__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>typeDeTaux__c</field>
            <value>
                <stringValue>Intermédiaire</stringValue>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>createOpportunity</name>
        <label>Create Opportunity</label>
        <locationX>2077</locationX>
        <locationY>1057</locationY>
        <connector>
            <targetReference>Create_SAVQuote</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getChantier.proprietaire__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LeadSource</field>
            <value>
                <elementReference>getAccount.PersonLeadSource</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>NomProjetFormula</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Devis</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>SAV</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>callSource__c</field>
            <value>
                <elementReference>getAccount.accountCallSource__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>chantier__c</field>
            <value>
                <elementReference>getChantier.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>get_financingMethodReferential</name>
        <label>get financingMethodReferential</label>
        <locationX>1783</locationX>
        <locationY>960</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>createOpportunity</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_financingMethodRT.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>KparKReference__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>DefaultFinancingMethodReference</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Referencial__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_financingMethodRT</name>
        <label>Get financingMethodRT</label>
        <locationX>1934</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_financingMethodReferential</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FinancingMethod</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ForfaitDep_Product</name>
        <label>Get ForfaitDep Product</label>
        <locationX>1133</locationX>
        <locationY>1310</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Service_ProductId</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ProductCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Label.system_reference_forfaitDep_productCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Product2</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_MainOeuvre_Product</name>
        <label>Get MainOeuvre Product</label>
        <locationX>1132</locationX>
        <locationY>1176</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_ForfaitDep_Product</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ProductCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Label.system_reference_mainOeuvre_productCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Product2</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getAccount</name>
        <label>Get Account</label>
        <locationX>1557</locationX>
        <locationY>659</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>forEachCase</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getChantier.proprietaire__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCase</name>
        <label>getCase</label>
        <locationX>463</locationX>
        <locationY>1061</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>assignCaseListFromCase</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCaseChantier</name>
        <label>getCaseChantier</label>
        <locationX>585</locationX>
        <locationY>613</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>FE_CaseChantier</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Chantier__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCaseDossierSAV</name>
        <label>getCaseDossierSAV</label>
        <locationX>535</locationX>
        <locationY>839</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>getDossierSAV</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>afterSalesService__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCaseOrder</name>
        <label>getCaseOrder</label>
        <locationX>582</locationX>
        <locationY>723</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>getOrder</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>customerOrder__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getChantier</name>
        <label>Get Chantier</label>
        <locationX>1422</locationX>
        <locationY>658</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>getAccount</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>chantierId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Chantier__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getDossierSAV</name>
        <label>getDossierSAV</label>
        <locationX>663</locationX>
        <locationY>838</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>FE_CaseDossierSAV</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>AfterSalesService__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getOrder</name>
        <label>getOrder</label>
        <locationX>700</locationX>
        <locationY>723</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>FE_CaseOrder</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Order</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getRTQuoteSAV</name>
        <label>getRTQuoteSAV</label>
        <locationX>176</locationX>
        <locationY>721</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>whichObject</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>AfterSalesServiceQuote</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SBQQ__Quote__c</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordRollbacks>
        <name>Rollback</name>
        <label>Rollback</label>
        <locationX>2897</locationX>
        <locationY>1731</locationY>
        <connector>
            <targetReference>Error</targetReference>
        </connector>
    </recordRollbacks>
    <recordUpdates>
        <name>updateCaseSelected</name>
        <label>updateCaseSelected</label>
        <locationX>2484</locationX>
        <locationY>2040</locationY>
        <connector>
            <targetReference>Open_Quote</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputReference>CasesToUpdate</inputReference>
    </recordUpdates>
    <screens>
        <name>Error</name>
        <label>Error</label>
        <locationX>2986</locationX>
        <locationY>1730</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorMsg</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 12px; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;{!$Flow.FaultMessage}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>ErrorScreen_CaseWitoutItem</name>
        <label>ErrorScreen CaseWitoutItem</label>
        <locationX>1602</locationX>
        <locationY>50</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>errorMsgCaseWithoutitem</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;La création de devis SAV n&apos;est pas possible car il n&apos;existe aucun élement de requête associé aux non-conformités Produit suivantes :&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;{!CaseWithoutItemNumberList}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>ErrorScreen_DiagCase</name>
        <label>ErrorScreen DiagCase</label>
        <locationX>1506</locationX>
        <locationY>161</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>diagErrorMsg</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0); --darkreader-inline-color: #ff1a1a;&quot; data-darkreader-inline-color=&quot;&quot;&gt;La création de devis SAV n&apos;est pas possible si il n&apos;existe pas au moins une non-conformité produit au statut différent de &quot;Clôturé&quot;&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>errorScreen_InvalidCase</name>
        <label>errorScreen InvalidCase</label>
        <locationX>938</locationX>
        <locationY>274</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>invalidCaseErrorMsg</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(247, 6, 6);&quot;&gt;La création de devis SAV n&apos;est pas possible car l&apos;un des champs suivants n&apos;est pas renseigné sur la Non-conformité produit {!CaseNumber} :&lt;/span&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(247, 6, 6);&quot;&gt;Motif&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(247, 6, 6);&quot;&gt;Responsabilité&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(247, 6, 6);&quot;&gt;Garantie détectée&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: rgb(247, 6, 6);&quot;&gt;(Re)commande&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Pas_de_NCP</name>
        <label>Pas de NCP</label>
        <locationX>2186</locationX>
        <locationY>445</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorMsg_0</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 12px; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;Aucune NCP disponible pour la génération de devis SAV!&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 12px; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;La génération de devis SAV est disponible seulement sur des NCP avec des éléments de requête et sans lien avec des devis SAV existant.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>screenSelectCase</name>
        <label>screenSelectCase</label>
        <locationX>2061</locationX>
        <locationY>722</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>FE_SelectedCases</targetReference>
        </connector>
        <fields>
            <name>text</name>
            <fieldText>&lt;p&gt;&lt;b&gt;Veuillez sélectionner les non-conformités produits. Leur éléments de requêtes seront ajoutés au devis SAV.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>selectCase</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Case</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatableV2</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>CaseNumber, Status, caseItemCount__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>CasesListToSelect</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>suppressBottomBar</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableBorder</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>suppressNameFieldLink</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>preSelectedRows</name>
                <value>
                    <elementReference>PreselectedCasesList</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>caseItemCount__c:Nb d&apos;éléments de requêtes</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>CasesSelected</assignToReference>
                <name>outputSelectedRows</name>
            </outputParameters>
        </fields>
        <nextOrFinishButtonLabel>Confirmer</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>538</locationY>
        <connector>
            <targetReference>getRTQuoteSAV</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>CaseIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CaseItemList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CaseItem__c</objectType>
    </variables>
    <variables>
        <name>CaseNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CasesList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CasesListToSelect</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CasesSelected</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CasesToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CaseWithoutItemNumberList</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>chantierId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ChildQuoteLineList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>cpqProductQuoteLineId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ForfaitDepWarranty</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>NbParentLine</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>NewChildQuoteLine</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>NewQLIForfaitDeplacement</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>NewQuoteLine</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>ParentQuoteLineList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>pbeList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>PricebookEntry</objectType>
    </variables>
    <variables>
        <name>PreselectedCasesList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>productIdList</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>quoteLineDeplacement</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>totalAmount</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
</Flow>
