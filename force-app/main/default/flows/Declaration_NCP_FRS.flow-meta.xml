<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Get_ProviderOrderItems</name>
        <label>Get ProviderOrderItems</label>
        <locationX>1480</locationX>
        <locationY>273</locationY>
        <actionName>IV_FlowINClauseActionClass</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Assign_OrderItemsList_CustomerOrder</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>U__records</typeName>
            <typeValue>OrderItem</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>filteringValuesCollection</name>
            <value>
                <elementReference>ProviderOrdersIdList</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>objectApiName</name>
            <value>
                <stringValue>OrderItem</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldsToQuery</name>
            <value>
                <stringValue>Id, OrderId, OrderItemNumber, providerReference__c, name__c, orderDate__c, orderType__c, providerOrderSummary__c, asset__c, orderProviderId__c</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>filterField</name>
            <value>
                <stringValue>OrderId</stringValue>
            </value>
        </inputParameters>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Open_NCP</name>
        <label>Open NCP</label>
        <locationX>4022</locationX>
        <locationY>2104</locationY>
        <actionName>c:OpenDetailsRecord</actionName>
        <actionType>component</actionType>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </inputParameters>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>SendNotif</name>
        <label>SendNotif</label>
        <locationX>4119</locationX>
        <locationY>1796</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>isTransmission</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>getNotif.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>recipientIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <stringValue>Cr√©ation d&apos;une Recommande</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>Test</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>idCreateProviderOrder</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <apiVersion>57.0</apiVersion>
    <assignments>
        <name>Assign_Create_Case</name>
        <label>Assign Create Case</label>
        <locationX>2503</locationX>
        <locationY>764</locationY>
        <assignmentItems>
            <assignToReference>newCase.Chantier__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>chantierId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>compteId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.ContactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>contactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.provider__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SelectedOrderItemProviderId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.providerOrderItem__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SelectedOrderItemId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.customerOrder__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>customerOrderId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.Subject</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Object</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.motif__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>motifQC.value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.expertiseSite__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SiteExpertiseQC.value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_RT_CasePNC.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>TypeQC.value</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.demandedDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>demandedDateToday</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.AssetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>assetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.ParentId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>caseParentId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.source__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>caseSource</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.expectedActions__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ExpectedActions</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.isProduitInconnu__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ProduitInconnu</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Site_expertise_saisie</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_info_expertise</name>
        <label>Assign info expertise</label>
        <locationX>2708</locationX>
        <locationY>573</locationY>
        <assignmentItems>
            <assignToReference>newCase.expertiseDate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.expertiseResponsability__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Fabrication</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newCase.demandedExpertise__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Case</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_OrderItemsList_Asset</name>
        <label>Assign OrderItemsList / Asset</label>
        <locationX>1540</locationX>
        <locationY>773</locationY>
        <assignmentItems>
            <assignToReference>OrderItemsList</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItemList_Asset</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_OrderItemList_Asset</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_OrderItemsList_CustomerOrder</name>
        <label>Assign OrderItemsList / CustomerOrder</label>
        <locationX>1676</locationX>
        <locationY>273</locationY>
        <assignmentItems>
            <assignToReference>OrderItemsList</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItems.records</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_GetProviderOrderItem</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_OrderItemsList_ProviderOrder</name>
        <label>Assign OrderItemsList / ProviderOrder</label>
        <locationX>1557</locationX>
        <locationY>511</locationY>
        <assignmentItems>
            <assignToReference>OrderItemsList</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItemList_Order</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_OrderItemList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_ProviderOrder_Case</name>
        <label>Assign ProviderOrder / Case</label>
        <locationX>3320</locationX>
        <locationY>964</locationY>
        <assignmentItems>
            <assignToReference>NewProviderOrder.productNonCompliance__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_New_Case.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>create_Provider_Order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_ProviderOrder_Order</name>
        <label>Assign ProviderOrder / Order</label>
        <locationX>3524</locationX>
        <locationY>1175</locationY>
        <assignmentItems>
            <assignToReference>NewProviderOrder.parentOrder__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_New_Case.customerOrder__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>create_Provider_Order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_ProviderOrdersIdList</name>
        <label>Assign ProviderOrdersIdList</label>
        <locationX>1180</locationX>
        <locationY>186</locationY>
        <assignmentItems>
            <assignToReference>ProviderOrdersIdList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FE_ProviderOrders.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_ProviderOrders</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignRecipient</name>
        <label>assignRecipient</label>
        <locationX>4123</locationX>
        <locationY>1629</locationY>
        <assignmentItems>
            <assignToReference>recipientIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_New_Case.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SendNotif</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignReorderItemId</name>
        <label>assignReorderItemId</label>
        <locationX>4250</locationX>
        <locationY>992</locationY>
        <assignmentItems>
            <assignToReference>reOrderItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>createReOrderItem_0</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>updateCase_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignReorderItemId_0</name>
        <label>assignReorderItemId</label>
        <locationX>4254</locationX>
        <locationY>1110</locationY>
        <assignmentItems>
            <assignToReference>reOrderItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>createReOrderItem</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>updateCase_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignReorderItemId_0_0</name>
        <label>assignReorderItemId</label>
        <locationX>4253</locationX>
        <locationY>1229</locationY>
        <assignmentItems>
            <assignToReference>reOrderItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>createReOrderItem_0_0</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>updateCase_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_ProviderOrderItem</name>
        <label>Count ProviderOrderItem</label>
        <locationX>1676</locationX>
        <locationY>1010</locationY>
        <assignmentItems>
            <assignToReference>CountProviderOrderItem</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_GetProviderOrderItem</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_ChantierID_Chantier</name>
        <label>Define ChantierID</label>
        <locationX>866</locationX>
        <locationY>951</locationY>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_ChantierId_DossierSAV</name>
        <label>Define ChantierId</label>
        <locationX>1003</locationX>
        <locationY>1069</locationY>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_DossierSAV.workSite__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_CurrentStep_2</name>
        <label>Define CurrentStep 2</label>
        <locationX>1999</locationX>
        <locationY>965</locationY>
        <assignmentItems>
            <assignToReference>nbCurrentStep</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Refacturation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_CurrentStep_2_0</name>
        <label>Define CurrentStep 2</label>
        <locationX>1949</locationX>
        <locationY>636</locationY>
        <assignmentItems>
            <assignToReference>nbCurrentStep</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Fournisseur</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_CurrentStep_3</name>
        <label>Define CurrentStep 3</label>
        <locationX>2083</locationX>
        <locationY>668</locationY>
        <assignmentItems>
            <assignToReference>nbCurrentStep</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Refacturation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_CurrentStep_Last</name>
        <label>Define CurrentStep Last</label>
        <locationX>2155</locationX>
        <locationY>784</locationY>
        <assignmentItems>
            <assignToReference>nbCurrentStep</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Recapitulatif</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_OrderItem_Record</name>
        <label>Define OrderItem Record</label>
        <locationX>1805</locationX>
        <locationY>1213</locationY>
        <assignmentItems>
            <assignToReference>SelectedOrderItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.OrderItemNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemProviderReference</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.providerReference__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>nbTotalStep</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.asset__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.asset__r.customerOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.asset__r.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.asset__r.ContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemProviderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_ProviderOrderItem.orderProviderId__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>D_claration</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_OrderItem_Selected</name>
        <label>Define OrderItem Selected</label>
        <locationX>2305</locationX>
        <locationY>515</locationY>
        <assignmentItems>
            <assignToReference>SelectedOrderItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_OrderItemSelected.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_OrderItemSelected.OrderItemNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemProviderReference</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_OrderItemSelected.providerOrderSummary__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SelectedOrderItemProviderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_OrderItemSelected.orderProviderId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_OrderItemSelected.asset__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_OrderItemSelected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_Variables</name>
        <label>Define Variables</label>
        <locationX>1543</locationX>
        <locationY>1095</locationY>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_Assets.RootAssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_Assets.customerOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_Assets.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FE_Assets.ContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>FE_Assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_Variables_Asset</name>
        <label>Define Variables / Asset</label>
        <locationX>1233</locationX>
        <locationY>830</locationY>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Asset.RootAssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Asset.customerOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Asset.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Asset.ContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ProviderOrderItemList_Asset</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_Variables_Case</name>
        <label>Define Variables / Case</label>
        <locationX>1236</locationX>
        <locationY>670</locationY>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.Chantier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.Asset.RootAssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.customerOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>caseParentId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.ContactId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>caseSource</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.source__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ProviderOrderItemList_Asset</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_Variables_Customer</name>
        <label>Define Variables / Customer</label>
        <locationX>969</locationX>
        <locationY>362</locationY>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.chantier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.AssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.BillToContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ProviderOrders</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Define_Variables_ProviderOrder</name>
        <label>Define Variables / ProviderOrder</label>
        <locationX>1214</locationX>
        <locationY>516</locationY>
        <assignmentItems>
            <assignToReference>chantierId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.parentOrder__r.chantier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Case.AssetId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>customerOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.parentOrder__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>compteId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.parentOrder__r.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contactId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Order.parentOrder__r.BillToContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ProviderOrderItemList_Order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Put_ProduitInconnu_true</name>
        <label>Put ProduitInconnue true</label>
        <locationX>1806</locationX>
        <locationY>268</locationY>
        <assignmentItems>
            <assignToReference>ProduitInconnu</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_OrderItemList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>set_site_expertise_empty</name>
        <label>set site expertise empty</label>
        <locationX>2617</locationX>
        <locationY>513</locationY>
        <assignmentItems>
            <assignToReference>newCase.expertiseSite__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Case</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Non</name>
        <choiceText>Non</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </choices>
    <choices>
        <name>Oui</name>
        <choiceText>Oui</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <decisions>
        <name>Check_if_OrderItemList_Asset</name>
        <label>Check if OrderItemList_Asset</label>
        <locationX>1475</locationX>
        <locationY>670</locationY>
        <defaultConnector>
            <targetReference>FE_GetProviderOrderItem</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>R√©sultat par d√©faut</defaultConnectorLabel>
        <rules>
            <name>OrderItemList_Asset_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_ProviderOrderItemList_Asset</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Order_item_null</targetReference>
            </connector>
            <label>OrderItemList_Asset null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_there_is_a_PRODUIT_INCONNU</name>
        <label>Check if there is a PRODUIT INCONNU</label>
        <locationX>1865</locationX>
        <locationY>387</locationY>
        <defaultConnector>
            <targetReference>For_each_OrderItemList</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>R√©sultat par d√©faut</defaultConnectorLabel>
        <rules>
            <name>Check_if_there_is_PRODUIT_INCONNU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>For_each_OrderItemList.Product2.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRODUIT INCONNU</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Put_ProduitInconnu_true</targetReference>
            </connector>
            <label>Check if there is PRODUIT INCONNU</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Object</name>
        <label>Check Object</label>
        <locationX>698</locationX>
        <locationY>690</locationY>
        <defaultConnector>
            <targetReference>Get_DossierSAV</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Is Dossier SAV</defaultConnectorLabel>
        <rules>
            <name>Is_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsCase</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Case</targetReference>
            </connector>
            <label>Is Case</label>
        </rules>
        <rules>
            <name>Is_Chantier</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsChantier</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Define_ChantierID_Chantier</targetReference>
            </connector>
            <label>Is Chantier</label>
        </rules>
        <rules>
            <name>Is_OrderItem</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsOrderItem</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_ProviderOrderItem</targetReference>
            </connector>
            <label>Is OrderItem</label>
        </rules>
        <rules>
            <name>Is_Asset</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsAsset</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Asset</targetReference>
            </connector>
            <label>Is Asset</label>
        </rules>
        <rules>
            <name>Is_Order</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsOrder</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Order</targetReference>
            </connector>
            <label>Is Order</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Object_ProviderORder</name>
        <label>Check Object</label>
        <locationX>3385</locationX>
        <locationY>1159</locationY>
        <defaultConnector>
            <targetReference>Assign_ProviderOrder_Order</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Is Other</defaultConnectorLabel>
        <rules>
            <name>Is_Case_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsCase</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_ProviderOrder_Case</targetReference>
            </connector>
            <label>Is Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Order_Type</name>
        <label>Check Order Type</label>
        <locationX>952</locationX>
        <locationY>522</locationY>
        <defaultConnector>
            <targetReference>Define_Variables_ProviderOrder</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Is ProviderOrder</defaultConnectorLabel>
        <rules>
            <name>Is_CustomerOrder</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Order.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CustomerOrder</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Define_Variables_Customer</targetReference>
            </connector>
            <label>Is CustomerOrder</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_ProviderOrdersIdList</name>
        <label>Check ProviderOrdersIdList</label>
        <locationX>1332</locationX>
        <locationY>336</locationY>
        <defaultConnector>
            <targetReference>FE_GetProviderOrderItem</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>R√©sultat par d√©faut</defaultConnectorLabel>
        <rules>
            <name>Has_ProviderOrdersIdList</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ProviderOrdersIdList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_ProviderOrderItems</targetReference>
            </connector>
            <label>Has ProviderOrdersIdList</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_OrderItem_Record</name>
        <label>If OrderItem Record</label>
        <locationX>1911</locationX>
        <locationY>781</locationY>
        <defaultConnector>
            <targetReference>Define_CurrentStep_2_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>IsNotOrderItem</defaultConnectorLabel>
        <rules>
            <name>IsOrderItem2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordIsOrderItem</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Define_CurrentStep_2</targetReference>
            </connector>
            <label>IsOrderItem</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_OrderItemSelected</name>
        <label>If OrderItemSelected</label>
        <locationX>1983</locationX>
        <locationY>349</locationY>
        <defaultConnector>
            <targetReference>Define_CurrentStep_3</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OrderItemSelectedNotEmpty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OrderItemSelected</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>FE_OrderItemSelected</targetReference>
            </connector>
            <label>OrderItemSelectedNotEmpty</label>
        </rules>
    </decisions>
    <decisions>
        <name>isOrderItem</name>
        <label>isOrderItem</label>
        <locationX>3807</locationX>
        <locationY>1166</locationY>
        <defaultConnector>
            <targetReference>getNotif</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OrderItemOK</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_New_Case.providerOrderItem__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>isType</targetReference>
            </connector>
            <label>OrderItemOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isPrixDeplacement</name>
        <label>isPrixDeplacement</label>
        <locationX>2906</locationX>
        <locationY>1115</locationY>
        <defaultConnector>
            <targetReference>isTransmission_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PrixDeplacementOK</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PrixDeplacement</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_NCPLine_Deplacement</targetReference>
            </connector>
            <label>PrixDeplacementOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isPrixMainOeuvre</name>
        <label>isPrixMainOeuvre</label>
        <locationX>2886</locationX>
        <locationY>944</locationY>
        <defaultConnector>
            <targetReference>isPrixDeplacement</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PrixMainOeuvreOK</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PrixMainOeuvre</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_NCPLine_MainOeuvre</targetReference>
            </connector>
            <label>PrixMainOeuvreOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isPrixProduit</name>
        <label>isPrixProduit</label>
        <locationX>2833</locationX>
        <locationY>770</locationY>
        <defaultConnector>
            <targetReference>isPrixMainOeuvre</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PrixProduitOK</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PrixProduit</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_NCPLine_Produit</targetReference>
            </connector>
            <label>PrixProduitOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isRecommande</name>
        <label>isRecommande</label>
        <locationX>3103</locationX>
        <locationY>1401</locationY>
        <defaultConnector>
            <targetReference>isTransmission</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>RecommandeOK</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recommande2</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_New_Case</targetReference>
            </connector>
            <label>RecommandeOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isTransmission</name>
        <label>isTransmission</label>
        <locationX>4111</locationX>
        <locationY>1960</locationY>
        <defaultConnector>
            <targetReference>Open_NCP</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>TransmissionOK_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>transmissionOK</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Transmission</targetReference>
            </connector>
            <label>TransmissionOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isTransmission_0</name>
        <label>isTransmission</label>
        <locationX>2878</locationX>
        <locationY>1280</locationY>
        <defaultConnector>
            <targetReference>isRecommande</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>TransmissionOK_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newCase.provider__r.emailPro__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validation_Transmission</targetReference>
            </connector>
            <label>TransmissionOK</label>
        </rules>
    </decisions>
    <decisions>
        <name>isType</name>
        <label>isType</label>
        <locationX>3926</locationX>
        <locationY>1119</locationY>
        <defaultConnector>
            <targetReference>createReOrderItem</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>isMenuiserie</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_New_Case.providerOrderItem__r.productType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Carpentry</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>createReOrderItem_0</targetReference>
            </connector>
            <label>isMenuiserie</label>
        </rules>
        <rules>
            <name>isService</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_New_Case.providerReOrderItem__r.productType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>createReOrderItem_0_0</targetReference>
            </connector>
            <label>isService</label>
        </rules>
    </decisions>
    <decisions>
        <name>Site_expertise_saisie</name>
        <label>Site expertise saisie</label>
        <locationX>2610</locationX>
        <locationY>765</locationY>
        <defaultConnector>
            <targetReference>Create_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>R√©sultat par d√©faut</defaultConnectorLabel>
        <rules>
            <name>Site_expertise_egal_None</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newCase.expertiseSite__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>None</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>set_site_expertise_empty</targetReference>
            </connector>
            <label>Site expertise egal None</label>
        </rules>
        <rules>
            <name>exp_site_selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newCase.expertiseSite__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_info_expertise</targetReference>
            </connector>
            <label>Site expertise saisie</label>
        </rules>
    </decisions>
    <description>Case - Flux permettant de d√©clarer des NCP Fournisseurs.
Entr√©e : Requ√™te NCP Interne / Chantier / Dossier SAV / Commande / Ligne Commande Fournisseur / Actif</description>
    <dynamicChoiceSets>
        <name>expertiseSitePicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>expertiseSite__c</picklistField>
        <picklistObject>Case</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>motifPicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>motif__c</picklistField>
        <picklistObject>Case</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>typePicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Type</picklistField>
        <picklistObject>Case</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <name>CasePNCProviderRTID</name>
        <dataType>String</dataType>
        <expression>{!Get_RT_CasePNC.Id}</expression>
    </formulas>
    <formulas>
        <name>demandedDateToday</name>
        <dataType>Date</dataType>
        <expression>IF({!PrixDeplacement} &gt; 0 || {!PrixMainOeuvre} &gt; 0 || {!PrixProduit} &gt; 0, TODAY(),null)</expression>
    </formulas>
    <formulas>
        <name>hasConciliationAuthorisation</name>
        <dataType>Boolean</dataType>
        <expression>{!$Permission.KPK_Conciliation_NCP_Fournisseur}</expression>
    </formulas>
    <formulas>
        <name>PrixDeplacementTotal</name>
        <dataType>Currency</dataType>
        <expression>{!PrixDeplacement} * {!QuantiteDeplacement}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>PrixMainOeuvreTotal</name>
        <dataType>Currency</dataType>
        <expression>{!PrixMainOeuvre} * {!QuantiteMainOeuvre}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>PrixProduitTotal</name>
        <dataType>Currency</dataType>
        <expression>{!PrixProduit} * {!QuantiteProduit}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>recordIsAsset</name>
        <dataType>Boolean</dataType>
        <expression>IF(BEGINS({!recordId}, &apos;02i&apos;), true, false)</expression>
    </formulas>
    <formulas>
        <name>recordIsCase</name>
        <dataType>Boolean</dataType>
        <expression>IF(BEGINS({!recordId}, &apos;500&apos;), true, false)</expression>
    </formulas>
    <formulas>
        <name>recordIsChantier</name>
        <dataType>Boolean</dataType>
        <expression>IF(BEGINS({!recordId}, &apos;a08&apos;), true, false)</expression>
    </formulas>
    <formulas>
        <name>recordIsOrder</name>
        <dataType>Boolean</dataType>
        <expression>IF(BEGINS({!recordId}, &apos;801&apos;), true, false)</expression>
    </formulas>
    <formulas>
        <name>recordIsOrderItem</name>
        <dataType>Boolean</dataType>
        <expression>IF(BEGINS({!recordId}, &apos;802&apos;), true, false)</expression>
    </formulas>
    <interviewLabel>D√©claration NCP FRS {!$Flow.CurrentDateTime}</interviewLabel>
    <label>D√©claration NCP / FRS (FNCU)</label>
    <loops>
        <name>FE_Assets</name>
        <label>For Each Assets</label>
        <locationX>1432</locationX>
        <locationY>1001</locationY>
        <collectionReference>assetSelected</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Define_Variables</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_ProviderOrderItemList_Asset</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_GetProviderOrderItem</name>
        <label>For Each GetProviderOrderItem</label>
        <locationX>1676</locationX>
        <locationY>773</locationY>
        <collectionReference>OrderItemsList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Count_ProviderOrderItem</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>D_claration</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_OrderItemSelected</name>
        <label>For Each OrderItemSelected</label>
        <locationX>2125</locationX>
        <locationY>536</locationY>
        <collectionReference>OrderItemSelected</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Define_OrderItem_Selected</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Define_CurrentStep_3</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>FE_ProviderOrders</name>
        <label>For Each ProviderOrders</label>
        <locationX>1168</locationX>
        <locationY>331</locationY>
        <collectionReference>Get_ProviderOrders</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_ProviderOrdersIdList</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_ProviderOrdersIdList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_each_OrderItemList</name>
        <label>For each OrderItemList</label>
        <locationX>1774</locationX>
        <locationY>510</locationY>
        <collectionReference>OrderItemsList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_if_there_is_a_PRODUIT_INCONNU</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>FE_GetProviderOrderItem</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Case</name>
        <label>Create Case</label>
        <locationX>2719</locationX>
        <locationY>746</locationY>
        <connector>
            <targetReference>isPrixProduit</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputReference>newCase</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_NCPLine_Deplacement</name>
        <label>Create NCPLine Deplacement</label>
        <locationX>2721</locationX>
        <locationY>1266</locationY>
        <connector>
            <targetReference>isTransmission_0</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>demandedAmount__c</field>
            <value>
                <elementReference>PrixDeplacement</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>description__c</field>
            <value>
                <elementReference>DescrpitionDeplacement</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>providerProductNonCompliance__c</field>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>quantity__c</field>
            <value>
                <elementReference>QuantiteDeplacement</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>type__c</field>
            <value>
                <stringValue>D√©placement</stringValue>
            </value>
        </inputAssignments>
        <object>ProviderReInvoiceItem__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_NCPLine_MainOeuvre</name>
        <label>Create NCPLine MainOeuvre</label>
        <locationX>3055</locationX>
        <locationY>942</locationY>
        <connector>
            <targetReference>isPrixDeplacement</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>demandedAmount__c</field>
            <value>
                <elementReference>PrixMainOeuvre</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>description__c</field>
            <value>
                <elementReference>DescriptionMainOeuvre</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>providerProductNonCompliance__c</field>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>quantity__c</field>
            <value>
                <elementReference>QuantiteMainOeuvre</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>type__c</field>
            <value>
                <stringValue>Main d&apos;oeuvre</stringValue>
            </value>
        </inputAssignments>
        <object>ProviderReInvoiceItem__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_NCPLine_Produit</name>
        <label>Create NCPLine Produit</label>
        <locationX>2968</locationX>
        <locationY>778</locationY>
        <connector>
            <targetReference>isPrixMainOeuvre</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>demandedAmount__c</field>
            <value>
                <elementReference>PrixProduit</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>description__c</field>
            <value>
                <elementReference>DescriptionProduit</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>providerProductNonCompliance__c</field>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>quantity__c</field>
            <value>
                <elementReference>QuantiteProduit</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>type__c</field>
            <value>
                <stringValue>Produit</stringValue>
            </value>
        </inputAssignments>
        <object>ProviderReInvoiceItem__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>create_Provider_Order</name>
        <label>create Provider Order</label>
        <locationX>3459</locationX>
        <locationY>852</locationY>
        <assignRecordIdToReference>idCreateProviderOrder</assignRecordIdToReference>
        <connector>
            <targetReference>isOrderItem</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.serviceEntity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillToContactId</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillToContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCity</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillingCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingPostalCode</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingState</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BillingStreet</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.BillingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EffectiveDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <elementReference>Get_New_Case.Asset.customerOrder__r.Pricebook2Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuoteId</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.QuoteId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_RT_ProviderOrder.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Quote__c</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.SBQQ__Quote__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShipToContactId</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShipToContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingCity</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShippingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingCountry</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShippingCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingPostalCode</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShippingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingState</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShippingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ShippingStreet</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.ShippingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Registered</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Recommande marchandise</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>parentOrder__c</field>
            <value>
                <elementReference>NewProviderOrder.parentOrder__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>productNonCompliance__c</field>
            <value>
                <elementReference>NewProviderOrder.productNonCompliance__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>provider__c</field>
            <value>
                <elementReference>Get_New_Case.provider__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>shippingName__c</field>
            <value>
                <elementReference>Get_New_Case.customerOrder__r.shippingName__c</elementReference>
            </value>
        </inputAssignments>
        <object>Order</object>
    </recordCreates>
    <recordCreates>
        <name>createReOrderItem</name>
        <label>createReOrderItem</label>
        <locationX>4129</locationX>
        <locationY>1111</locationY>
        <connector>
            <targetReference>assignReorderItemId_0</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>OrderId</field>
            <value>
                <elementReference>idCreateProviderOrder</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PricebookEntryId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.PricebookEntryId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Product2Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Quantity</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Quantity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuoteLineItemId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.QuoteLineItemId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__QuoteLine__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.SBQQ__QuoteLine__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UnitPrice</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.UnitPrice</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asset__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.asset__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>name__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>productType__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.productType__c</elementReference>
            </value>
        </inputAssignments>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>createReOrderItem_0</name>
        <label>createReOrderItem</label>
        <locationX>4125</locationX>
        <locationY>994</locationY>
        <connector>
            <targetReference>assignReorderItemId</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>OrderId</field>
            <value>
                <elementReference>idCreateProviderOrder</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PricebookEntryId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.PricebookEntryId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Product2Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Quantity</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Quantity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuoteLineItemId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.QuoteLineItemId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__QuoteLine__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.SBQQ__QuoteLine__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UnitPrice</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.UnitPrice</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asset__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.asset__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>height__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.height__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>leaf__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.leaf__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>locationPrecision__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.locationPrecision__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>location__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.location__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>name__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>productType__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.productType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>width__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.width__c</elementReference>
            </value>
        </inputAssignments>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>createReOrderItem_0_0</name>
        <label>createReOrderItem</label>
        <locationX>4128</locationX>
        <locationY>1230</locationY>
        <connector>
            <targetReference>assignReorderItemId_0_0</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>EndDate</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.EndDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OrderId</field>
            <value>
                <elementReference>idCreateProviderOrder</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PricebookEntryId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.PricebookEntryId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Product2Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Quantity</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.Quantity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>QuoteLineItemId</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.QuoteLineItemId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__QuoteLine__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.SBQQ__QuoteLine__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceDate</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.ServiceDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UnitPrice</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.UnitPrice</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>asset__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.asset__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>name__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>productType__c</field>
            <value>
                <elementReference>Get_New_Case.providerOrderItem__r.productType__c</elementReference>
            </value>
        </inputAssignments>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Asset</name>
        <label>Get Asset</label>
        <locationX>1067</locationX>
        <locationY>831</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Define_Variables_Asset</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Assets</name>
        <label>Get Assets</label>
        <locationX>1195</locationX>
        <locationY>1001</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Choix_de_l_actif</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>chantier__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>chantierId</elementReference>
            </value>
        </filters>
        <filters>
            <field>InstallDate</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Annul√©</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsCompetitorProduct</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Case</name>
        <label>Get Case</label>
        <locationX>1035</locationX>
        <locationY>680</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Define_Variables_Case</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_DossierSAV</name>
        <label>Get DossierSAV</label>
        <locationX>792</locationX>
        <locationY>1068</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Define_ChantierId_DossierSAV</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>AfterSalesService__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_New_Case</name>
        <label>Get New Case</label>
        <locationX>3148</locationX>
        <locationY>1149</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Object_ProviderORder</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Order</name>
        <label>Get Order</label>
        <locationX>815</locationX>
        <locationY>520</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Order_Type</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Order</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ProviderOrderItem</name>
        <label>Get ProviderOrderItem</label>
        <locationX>691</locationX>
        <locationY>1214</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Define_OrderItem_Record</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ProviderOrderItemList_Asset</name>
        <label>Get ProviderOrderItemList / Asset</label>
        <locationX>1427</locationX>
        <locationY>773</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_OrderItemsList_Asset</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>asset__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>assetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>orderRecordType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ProviderOrder</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ProviderOrderItemList_Order</name>
        <label>Get ProviderOrderItemList / Order</label>
        <locationX>1386</locationX>
        <locationY>511</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_OrderItemsList_ProviderOrder</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OrderId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Order.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OrderItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ProviderOrders</name>
        <label>Get ProviderOrders</label>
        <locationX>967</locationX>
        <locationY>232</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>FE_ProviderOrders</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>parentOrder__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Order.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_RT_ProviderOrder.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Order</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_RT_CasePNC</name>
        <label>Get RT CasePNC</label>
        <locationX>568</locationX>
        <locationY>688</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Object</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ProviderProductNonCompliance</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_RT_ProviderOrder</name>
        <label>Get RT ProviderOrder</label>
        <locationX>444</locationX>
        <locationY>688</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_RT_CasePNC</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ProviderOrder</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Order</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getNotif</name>
        <label>getNotif</label>
        <locationX>4123</locationX>
        <locationY>1496</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>assignRecipient</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CustomNotifTypeName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Notification Bureau/mobile</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordRollbacks>
        <name>Rollback</name>
        <label>Rollback</label>
        <locationX>3661</locationX>
        <locationY>855</locationY>
        <connector>
            <targetReference>Error</targetReference>
        </connector>
    </recordRollbacks>
    <recordUpdates>
        <name>updateCase_0</name>
        <label>updateCase</label>
        <locationX>4414</locationX>
        <locationY>1104</locationY>
        <connector>
            <targetReference>getNotif</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Rollback</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>providerReOrderItem__c</field>
            <value>
                <elementReference>reOrderItemId</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <screens>
        <name>Choix_de_l_actif</name>
        <label>Choix de l&apos;actif</label>
        <locationX>1311</locationX>
        <locationY>1001</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>FE_Assets</targetReference>
        </connector>
        <fields>
            <name>assetLists</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Asset</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatableV2</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Assets</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name, Product2Id,controlDate__c, deliveryDate__c, InstallDate</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Product2Id:Produit</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableLabel</name>
                <value>
                    <stringValue>Veuillez choisir l&apos;actif pour la d√©claration</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableBorder</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>assetSelected</assignToReference>
                <name>outputSelectedRows</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>D_claration</name>
        <label>D√©claration</label>
        <locationX>1805</locationX>
        <locationY>778</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>If_OrderItem_Record</targetReference>
        </connector>
        <fields>
            <name>etape1</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;1/{!nbTotalStep} - D√©claration&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Object</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_Case.Subject</elementReference>
            </defaultValue>
            <fieldText>Objet</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Description</name>
            <defaultValue>
                <stringValue>{!Get_Case.Description}</stringValue>
            </defaultValue>
            <fieldText>Description</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>ExpectedActions</name>
            <defaultValue>
                <stringValue>{!Get_Case.expectedActions__c}</stringValue>
            </defaultValue>
            <fieldText>Actions √† mener/attendues</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>TypeQC</name>
            <extensionName>c:quickChoiceFSC</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>displayMode</name>
                <value>
                    <stringValue>Picklist</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputMode</name>
                <value>
                    <stringValue>Picklist Field</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>allowNoneToBeChosen</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Case</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>Type</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>masterLabel</name>
                <value>
                    <stringValue>Type</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordTypeId</name>
                <value>
                    <elementReference>CasePNCProviderRTID</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>motifQC</name>
            <extensionName>c:quickChoiceFSC</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>displayMode</name>
                <value>
                    <stringValue>Picklist</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputMode</name>
                <value>
                    <stringValue>Picklist Field</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Case</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>motif__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>masterLabel</name>
                <value>
                    <stringValue>Motif</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>allowNoneToBeChosen</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordTypeId</name>
                <value>
                    <elementReference>CasePNCProviderRTID</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>SiteExpertiseQC</name>
            <extensionName>c:quickChoiceFSC</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>displayMode</name>
                <value>
                    <stringValue>Picklist</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputMode</name>
                <value>
                    <stringValue>Picklist Field</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Case</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>expertiseSite__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>masterLabel</name>
                <value>
                    <stringValue>Site d&apos;expertise</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>allowNoneToBeChosen</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordTypeId</name>
                <value>
                    <elementReference>CasePNCProviderRTID</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>hasConciliationAuthorisation</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error</name>
        <label>Error</label>
        <locationX>3603</locationX>
        <locationY>737</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorMessage</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); color: rgb(255, 0, 0); font-size: 12px;&quot;&gt;{!$Flow.FaultMessage}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_0</name>
        <label>Error</label>
        <locationX>578</locationX>
        <locationY>225</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorMessage_0</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 12px; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;{!$Flow.FaultMessage}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Fournisseur</name>
        <label>Fournisseur</label>
        <locationX>1949</locationX>
        <locationY>500</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>If_OrderItemSelected</targetReference>
        </connector>
        <fields>
            <name>etape2</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;{!nbCurrentStep}/{!nbTotalStep} - Fournisseur&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>OrderProductDatatableList</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>OrderItem</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatableV2</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>OrderItemsList</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>OrderItemNumber,providerOrderSummary__c, providerReference__c,name__c,orderDate__c,orderType__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>OrderItemNumber:Num√©ro, providerOrderSummary__c:Commande fournisseur</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableBorder</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFilters</name>
                <value>
                    <stringValue>All</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showSearchInput</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnWidths</name>
                <value>
                    <stringValue>OrderItemNumber:110, orderDate__c:185</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>OrderItemSelected</assignToReference>
                <name>outputSelectedRows</name>
            </outputParameters>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>CountProviderOrderItem</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>NoProviderOrderItemText</name>
            <fieldText>&lt;p&gt;Il n&apos;y a pas de lignes de commande fournisseur. Veuillez passer √† l&apos;√©tape suivante.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>CountProviderOrderItem</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Order_item_null</name>
        <label>Order item null</label>
        <locationX>1378</locationX>
        <locationY>630</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>NCP_impossible</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; color: rgb(23, 43, 77);&quot;&gt;D√©claration impossible d&apos;une NCP fournisseur car l&apos;actif n&apos;est pas associ√© √† une ligne de commande fournisseur!&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Recapitulatif</name>
        <label>R√©capitulatif</label>
        <locationX>2275</locationX>
        <locationY>784</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Assign_Create_Case</targetReference>
        </connector>
        <fields>
            <name>etape4</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;{!nbCurrentStep}/{!nbTotalStep} - Confirmation&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>recap</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;Requ√™te NCP Fournisseur&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Objet : &lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt;{!Object}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt;Description : {!Description}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Actions √† mener/attendues&lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt; : {!ExpectedActions}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt;Motif : {!motifQC.selectedLabel}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt;Site d&apos;expertise : {!SiteExpertiseQC.selectedLabel}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: var(--lwc-fontFamily,&amp;quot;Salesforce Sans&amp;quot;, Arial, sans-serif); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--lwc-colorTextWeak,rgb(62, 62, 60)); background-color: var(--lwc-colorBackgroundInput,rgb(255, 255, 255));&quot;&gt;Fournisseur : {!SelectedOrderItemProviderReference}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Ligne de commande : {!SelectedOrderItemNumber}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Produit &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Description : {!DescriptionProduit}&lt;/p&gt;&lt;p&gt;Quantit√© : {!QuantiteProduit}&lt;/p&gt;&lt;p&gt;Prix : {!PrixProduit}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Main d&apos;≈ìuvre &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Description : {!DescriptionMainOeuvre}&lt;/p&gt;&lt;p&gt;Quantit√© : {!QuantiteMainOeuvre}&lt;/p&gt;&lt;p&gt;Prix : {!PrixMainOeuvre}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;D√©placement &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Description : {!DescrpitionDeplacement}&lt;/p&gt;&lt;p&gt;Quantit√© : {!QuantiteDeplacement}&lt;/p&gt;&lt;p&gt;Prix : {!PrixDeplacement}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>recommande2</name>
            <dataType>Boolean</dataType>
            <fieldText>Recommande ?</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>SelectedOrderItemProviderReference</leftValueReference>
                    <operator>NotEqualTo</operator>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Refacturation</name>
        <label>Refacturation</label>
        <locationX>2041</locationX>
        <locationY>784</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Define_CurrentStep_Last</targetReference>
        </connector>
        <fields>
            <name>etape3</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;{!nbCurrentStep}/{!nbTotalStep} - Refacturation&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>DescriptionProduit</name>
            <dataType>String</dataType>
            <fieldText>Description produit</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>QuantiteProduit</name>
            <dataType>Number</dataType>
            <fieldText>Quantit√© produit</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <scale>0</scale>
        </fields>
        <fields>
            <name>PrixProduit</name>
            <dataType>Currency</dataType>
            <fieldText>Prix produit</fieldText>
            <fieldType>InputField</fieldType>
            <helpText>&lt;p&gt;Toute quantit√© incluse&lt;/p&gt;</helpText>
            <isRequired>false</isRequired>
            <scale>2</scale>
        </fields>
        <fields>
            <name>espace</name>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>DescriptionMainOeuvre</name>
            <dataType>String</dataType>
            <fieldText>Description main d&apos;oeuvre</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>QuantiteMainOeuvre</name>
            <dataType>Number</dataType>
            <fieldText>Quantit√© main d&apos;oeuvre</fieldText>
            <fieldType>InputField</fieldType>
            <helpText>&lt;p&gt;En heures&lt;/p&gt;</helpText>
            <isRequired>false</isRequired>
            <scale>0</scale>
        </fields>
        <fields>
            <name>PrixMainOeuvre</name>
            <dataType>Currency</dataType>
            <fieldText>Prix main d&apos;oeuvre</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <scale>2</scale>
        </fields>
        <fields>
            <name>espace2</name>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>DescrpitionDeplacement</name>
            <dataType>String</dataType>
            <fieldText>Description d√©placement</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>QuantiteDeplacement</name>
            <dataType>Number</dataType>
            <fieldText>Quantit√© d√©placement</fieldText>
            <fieldType>InputField</fieldType>
            <helpText>&lt;p&gt;En km&lt;/p&gt;</helpText>
            <isRequired>false</isRequired>
            <scale>0</scale>
        </fields>
        <fields>
            <name>PrixDeplacement</name>
            <dataType>Currency</dataType>
            <fieldText>Prix d√©placement</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <scale>2</scale>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Validation_Transmission</name>
        <label>Validation Transmission</label>
        <locationX>2887</locationX>
        <locationY>1426</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>isRecommande</targetReference>
        </connector>
        <fields>
            <name>transmissionOK</name>
            <choiceReferences>Oui</choiceReferences>
            <choiceReferences>Non</choiceReferences>
            <dataType>Boolean</dataType>
            <defaultSelectedChoiceReference>Oui</defaultSelectedChoiceReference>
            <fieldText>Voulez-vous transmettre directement la non-conformit√© produit fournisseur cr√©√©e ?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>670</locationY>
        <connector>
            <targetReference>Get_RT_ProviderOrder</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Transmission</name>
        <label>Transmission</label>
        <locationX>4231</locationX>
        <locationY>2061</locationY>
        <connector>
            <targetReference>Open_NCP</targetReference>
        </connector>
        <flowName>Case_Transmission</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>newCase.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>assetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>assetSelected</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>caseParentId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>caseSource</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>chantierId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>compteId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>contactId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CountProviderOrderItem</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>customerOrderId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>idCreateProviderOrder</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>nbCurrentStep</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>nbTotalStep</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>4.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>newCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>NewProviderOrder</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Order</objectType>
    </variables>
    <variables>
        <name>OrderItemSelected</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>OrderItemsList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OrderItem</objectType>
    </variables>
    <variables>
        <name>ProduitInconnu</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>Non</elementReference>
        </value>
    </variables>
    <variables>
        <name>ProviderOrdersIdList</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recipientIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>reOrderItemId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SelectedOrderItemId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SelectedOrderItemNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SelectedOrderItemProviderId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SelectedOrderItemProviderReference</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>test</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
